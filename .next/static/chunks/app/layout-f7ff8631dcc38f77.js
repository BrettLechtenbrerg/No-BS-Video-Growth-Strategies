(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{63:(e,t,s)=>{"use strict";var n=s(7260);s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}})},3673:()=>{},5527:(e,t,s)=>{"use strict";s.d(t,{AnalyticsProvider:()=>d,dE:()=>f});var n=s(5155),r=s(2115),i=s(63),a=s(5805);class l{getOrCreateSessionId(){let e=sessionStorage.getItem("analytics_session_id");if(e)return e;let t=(0,a.Ak)();return sessionStorage.setItem("analytics_session_id",t),t}getUserId(){return localStorage.getItem("analytics_user_id")||void 0}setUserId(e){this.userId=e,localStorage.setItem("analytics_user_id",e)}startBatchFlush(){this.flushTimer=setInterval(()=>{this.queue.length>0&&this.flush()},this.flushInterval)}async flush(){if(0===this.queue.length||!this.isEnabled)return;let e=this.queue.splice(0,this.batchSize);try{await fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:e})})}catch(t){console.warn("Failed to send analytics events:",t),this.queue.unshift(...e)}}createBaseEvent(e){return{id:(0,a.Ak)(),event:e,timestamp:Date.now(),sessionId:this.sessionId,userId:this.userId,url:window.location.href,userAgent:navigator.userAgent}}trackPageView(e){if(!this.isEnabled)return;let t={...this.createBaseEvent("page_view"),properties:e};this.queue.push(t),this.queue.length>=this.batchSize&&this.flush()}trackScrollDepth(e,t,s){if(!this.isEnabled)return;let n={...this.createBaseEvent("scroll_depth"),properties:{depth:e,maxDepth:t,timeOnPage:s}};this.queue.push(n)}trackClick(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"button",n=arguments.length>3?arguments[3]:void 0;if(!this.isEnabled)return;let r={...this.createBaseEvent("button_click"),properties:{buttonText:e,buttonId:t,elementType:s,position:n||{x:0,y:0}}};this.queue.push(r)}trackCustomEvent(e,t){if(!this.isEnabled)return;let s={...this.createBaseEvent(e),properties:t};this.queue.push(s)}identify(e){this.setUserId(e)}disable(){this.isEnabled=!1,this.flushTimer&&clearInterval(this.flushTimer)}enable(){this.isEnabled=!0,this.startBatchFlush()}async forceFlush(){await this.flush()}getQueueSize(){return this.queue.length}constructor(){this.queue=[],this.isEnabled=!0,this.batchSize=10,this.flushInterval=5e3,this.sessionId=this.getOrCreateSessionId(),this.userId=this.getUserId(),this.startBatchFlush()}}let u=null;function o(){return u||(u=new l),u}function c(e,t,s){o().trackScrollDepth(e,t,s)}let h=(0,r.createContext)(null);function d(e){let{children:t,enabled:s=!0,debug:a=!1}=e,l=(0,i.usePathname)();return!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{thresholds:t=[25,50,75,90,100],throttleMs:s=250,enabled:n=!0}=e,[i,a]=(0,r.useState)(0),[l,u]=(0,r.useState)(0),[o,h]=(0,r.useState)(0),[d,f]=(0,r.useState)(!1),v=(0,r.useRef)(Date.now()),m=(0,r.useRef)(new Set),b=(0,r.useRef)(null),g=(0,r.useRef)(0);(0,r.useEffect)(()=>{if(!n)return;v.current=Date.now(),m.current.clear();let e=()=>{let e=Date.now();b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{let s=(()=>{let e=window.innerHeight,t=document.documentElement.scrollHeight,s=window.pageYOffset||document.documentElement.scrollTop,n=t-e;return n<=0?100:Math.min(100,Math.round(s/n*100))})(),n=Date.now()-v.current;a(s),h(n),u(e=>{let r=Math.max(e,s);return t.forEach(e=>{r>=e&&!m.current.has(e)&&(m.current.add(e),c(e,r,n),100===e&&f(!0))}),r}),g.current=e},s)};return window.addEventListener("scroll",e,{passive:!0}),e(),()=>{window.removeEventListener("scroll",e),b.current&&clearTimeout(b.current)}},[n,s,t]),(0,r.useEffect)(()=>{if(!n)return;let e=setInterval(()=>{h(y())},1e3);return()=>clearInterval(e)},[n]),(0,r.useEffect)(()=>()=>{n&&l>0&&c(l,l,Date.now()-v.current)},[n,l]);let y=()=>Date.now()-v.current}({enabled:s,thresholds:[25,50,75,90,100],throttleMs:250}),(0,r.useEffect)(()=>{if(!s)return;let e=document.title,t=document.referrer;a&&console.log("Analytics: Page view tracked",{title:e,pathname:l,referrer:t}),function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";o().trackPageView({title:e,path:t,referrer:s})}(e,l,t)},[l,s,a]),(0,r.useEffect)(()=>{if(!s)return;let e=()=>{o().forceFlush()},t=()=>{"hidden"===document.visibilityState&&o().forceFlush()};return window.addEventListener("beforeunload",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("beforeunload",e),document.removeEventListener("visibilitychange",t)}},[s]),(0,n.jsx)(h.Provider,{value:{trackEvent:(e,t)=>{s&&(a&&console.log("Analytics: Custom event tracked",{event:e,properties:t}),o().trackCustomEvent(e,t))},trackClick:(e,t,n)=>{s&&(a&&console.log("Analytics: Click tracked",{buttonText:e,buttonId:t,elementType:n}),o().trackClick(e,t,n))},identify:e=>{s&&(a&&console.log("Analytics: User identified",{userId:e}),o().identify(e))},disable:()=>{o().disable(),a&&console.log("Analytics: Disabled")},enable:()=>{o().enable(),a&&console.log("Analytics: Enabled")}},children:t})}function f(){let{trackClick:e}=function(){let e=(0,r.useContext)(h);if(!e)throw Error("useAnalytics must be used within an AnalyticsProvider");return e}();return e}},5805:(e,t,s)=>{"use strict";s.d(t,{Ak:()=>n});let n=(e=21)=>{let t="",s=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&s[e]];return t}},6473:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_b9c7ce",variable:"__variable_b9c7ce"}},6959:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_b9c7ce",variable:"__variable_b9c7ce"}},7227:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6959,23)),Promise.resolve().then(s.t.bind(s,6473,23)),Promise.resolve().then(s.t.bind(s,3673,23)),Promise.resolve().then(s.bind(s,5527))}},e=>{e.O(0,[935,978,441,255,358],()=>e(e.s=7227)),_N_E=e.O()}]);